{% if page.body-class == "project" %}
 {% assign project_list = site.projects_active | sort: "name" %}
{% elsif page.body-class == "sketch" %}
 {% assign project_list = site.sketches_active | sort: "name" %}
{% endif %}

{% assign first = project_list | first %}
{% assign last = project_list | last %}
{% for project in project_list %}
  {% if project.name == page.name %}
    {% unless forloop.last %}
      {% assign next = project_list[forloop.index] %}
    {% endunless %}
    {% unless forloop.first %}
      {% assign previous = prev %}
    {% endunless %}
  {% endif %}
  {% assign prev = project %}
{% endfor %}

<nav class="prev-next">
  <a class="intro-nav-previous" href="{% if previous %}{{ site.baseurl }}{{ previous.url }}{% else %}{{ last.url }}{% endif %}">Previous {{ page.body-class }} <span class="name">{% if previous %}{{ previous.name }}{% else %}{{ last.name }}{% endif %}</span></a>
  <a class="intro-nav-next" href="{% if next %}{{ site.baseurl }}{{ next.url }}{% else %}{{ first.url }}{% endif %}">Next {{ page.body-class }} <span class="name">{% if next %}{{ next.name }}{% else %}{{ first.name }}{% endif %}</span></a>
</nav>
